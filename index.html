<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      [data-lightning-out] {
        max-width: 68rem;
        padding-right: 15px;
        padding-left: 15px;
        margin: 0 auto !important;
      }
    </style>
  </head>
  <body>
    <script src="https://wabco--qa.sandbox.my.site.com/MyDashboard/lightning/lightning.out.js"></script>
    <div data-lightning-out="true"></div>
    <script>
      const appName = 'c:zfPartnerLocationFinder';
      const componentName = 'c:zfPartnerLocationFinderMaster';
      const lightningEndpoint = 'https://wabco--qa.sandbox.my.site.com/MyDashboard';
      const targetElement = document.querySelector('[data-lightning-out]');

      const url = new URL(window.location.href);
      const urlSearch = new URLSearchParams(url.search);
      
      const skus = urlSearch.getAll('sku');
      
      const componentAttributes = {
        sku: skus.at(0)  
      };

      $Lightning.use(
        appName,
        function() {
          $Lightning.createComponent(
            componentName,
            componentAttributes,
            targetElement,
            function(cmp) {
              console.log('Lightning component created');
            }
          );
        },
        lightningEndpoint
      );
    </script>
  </body>
</html>
